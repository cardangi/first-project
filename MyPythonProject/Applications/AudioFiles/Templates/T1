{% set p1 %}
    {% for element in "*"|repeatelement(header.maintitle|length() + 2*10) -%}
        {{ element }}
    {%- endfor %}
{% endset %}
{% set p2 %}
    {% for element in " "|repeatelement(header.maintitle|length() + 2*10) -%}
        {{ element }}
    {%- endfor %}
{% endset %}
{% set p3 = header.maintitle|ljustify(header.maintitle|length() + 10)|rjustify(header.maintitle|length() + 2*10) %}
{% set space = " " %}

{{ "**%s**"|format(p1)|center() }}
{{ "****%s****"|format(p1)|center() }}
{{ "******%s******"|format(p2)|center() }}
{{ "********%s********"|format(p3|upper())|center() }}
{{ "******%s******"|format(p2)|center() }}
{{ "****%s****"|format(p1)|center() }}
{{ "**%s**"|format(p1)|center() }}

{{ now|center() }}
{{ "%s 2016 Xavier ROSSET"|format(copyright)|center() }}




          STEP {{ header.step|default(1)|integertostring()|rjustify(2) }}
        {%- if header.title -%}
            .{{ space -}}
        {% endif -%}
        {{ header.title|default() }}

{%- if message is iterable %}
    {% include "T2" %}
{% endif %}

{%- if list1 is iterable %}
    {% include "T3" %}
{% endif %}

{%- if list2 is iterable %}
    {% include "T4" %}
{% endif %}

{%- if trailer is iterable %}
    {% include "T5" %}
{% endif %}
